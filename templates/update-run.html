{% extends "base.html" %}

{% block content %}
<h1>Update Run</h1>
{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}
<form method="POST">
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" required value="{{ item.name }}" disabled>
    </div>
    <div class="form-group">
        <label for="show_name">Show Name</label>
        <input class="form-control" id="show_name" name="show_name" required value="{{ item.show_name }}" disabled>
    </div>
    <div class="form-group">
        <label for="timestamp">Run Date</label>
        <input type="date" class="form-control" id="timestamp" name="timestamp" required
            value="{{ item.timestamp.strftime('%Y-%m-%d') }}"
            pattern="\d{4}-\d{2}-\d{2}" 
            placeholder="YYYY-MM-DD"
            title="Please use YYYY-MM-DD format">
        <small class="form-text text-muted">Format: YYYY-MM-DD</small>
    </div>
    <div class="form-group">
        <label for="run_time">Run Time</label>
        <input type="text" class="form-control" id="run_time" name="run_time" required value="{{ item.run_time }}">
    </div>
    <div class="form-group">
        <label for="course_time">Course Time</label>
        <input type="text" class="form-control" id="course_time" name="course_time" required value="{{ item.course_time }}">
    </div>
    <div class="form-group">
        <label for="handler">Handler Name</label>
        <input type="text" class="form-control" id="handler" name="handler" value="{{ item.handler }}">
    </div>
    <div class="form-group">
        <label for="trial">Trial Club Name</label>
        <input type="text" class="form-control" id="trial" name="trial" value="{{ item.trial }}">
    </div>
    <div class="form-group">
        <label for="judge">Judge</label>
        <input type="text" class="form-control" id="judge" name="judge" value="{{ item.judge }}">
    </div>
    <div class="form-group">
        <label for="height">Height</label>
        <select name="height" id="height" class="form-control">
            <option value="N/A" {% if item.height == 'N/A' %}selected{% endif %}>----</option>
            {% for jump_height in jump_heights %}
            <option value="{{ jump_height }}" {% if item.height == jump_height %}selected{% endif %}>{{ jump_height }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="place">Placement</label>
        <select name="place" id="place" class="form-control">
            <option value="N/A" {% if item.place == 'N/A' %}selected{% endif %}>----</option>
            {% for place in placements %}
            <option value="{{ place }}" {% if item.place == place %}selected{% endif %}>{{ place }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="run_class">Class</label>
        <select name="run_class" id="run_class" class="form-control">
            <option value="N/A" {% if item.run_class == 'N/A' %}selected{% endif %}>----</option>
            {% for run_class_item in run_class %}
            <option value="{{ run_class_item }}" {% if item.run_class == run_class_item %}selected{% endif %}>{{ run_class_item }}</option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
    <a href="/runs/{{ item.show_name }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
